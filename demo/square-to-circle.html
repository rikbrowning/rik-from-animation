<link rel="import" href="my-square.html">
<link rel="import" href="my-circle.html">
<link rel="import" href="../../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../neon-animation/neon-animation-runner-behavior.html">
<link rel="import" href="../rik-from-animation.html">

<dom-module id="square-to-circle">
    <template>
        <style>            
            .container{
                position:relative;
                width:800px;
                margin:0 auto;
            }
            #circle {
                margin-top:50px;
                position:absolute;
                right:100px;
                top:100px;
            }
            
            #square{
                position:absolute;
                left:100px;
            }
            
            .rik-from{
                visibility: hidden;
            }
            .rik-to{
                visibility: visible;
            }
            
            

        </style>
        <div class="container">
            <my-square id="square" on-tap="onTap"></my-square>

            <my-circle id="circle" class="rik-from" on-tap="onTap"></my-circle>
        </div>
    </template>
    <script>
        Polymer({
            is: "square-to-circle",
            behaviors: [
                Polymer.NeonAnimationRunnerBehavior
            ],
            properties: {
                animationConfig: {
                    type: Object,
                    value: function() {
                        return {
                            "toggle": {
                                name: "rik-from-animation",
                                to: this.$.circle,
                                from: this.$.square,
                                timing: {
                                    duration: 500
                                }
                            }
                        }
                    }

                }
            },
            onTap: function(e) {
                this.animationConfig.toggle.from = e.currentTarget;
                this.animationConfig.toggle.to = this.$.circle===e.currentTarget?this.$.square:this.$.circle;
                this.playAnimation("toggle");
            }

        })

    </script>
</dom-module>
